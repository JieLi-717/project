{"remainingRequest":"G:\\DaiMa\\project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\DaiMa\\project\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\DaiMa\\project\\src\\App.vue","mtime":1755234844922},{"path":"G:\\DaiMa\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755234282791},{"path":"G:\\DaiMa\\project\\node_modules\\babel-loader\\lib\\index.js","mtime":1755234509331},{"path":"G:\\DaiMa\\project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1755234282791},{"path":"G:\\DaiMa\\project\\node_modules\\vue-loader\\lib\\index.js","mtime":1755234280491}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue';\nimport HelloWorld from './components/HelloWorld.vue'\nimport postPage from './components/postPage.vue'\n\nexport default {\n\tname: 'app',\n\tcomponents: {\n\t\tHelloWorld,\n\t\tpostPage\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tupdateTime: {\n\t\t\t\tyear: '',\n\t\t\t\tmonth: '',\n\t\t\t\tdate: ''\n\t\t\t}, //年月日\n\t\t\tchangePage: false, //切换页面\n\t\t\tshow: false, //输入名字框\n\t\t\tprovinceName: '四川',\n\t\t\ttotal: 125879, //承诺次数\n\t\t\tgetPost: false, //触发生成海报\n\t\t\tsound: require('./assets/unplay.png'),\n\t\t\tisplay: false,\n\t\t\tMp: \"./assets/audio/music.mp3\",\n\n\t\t\tcanvasWidth: null,\n\t\t\tcanvasHeight: null,\n\t\t\tcanvasImg: '', // 签名图片地址\n\t\t\tctx: null, //画板\n\t\t\tstage_info: [], // 移动端按下点到屏幕的偏差\n\t\t\tisDown: false, //是否按下\n\t\t\tpoints: [], //按下点组合\n\t\t\tstartX: 0, // 起始点x坐标\n\t\t\tstartY: 0, // 起始点y坐标\n\n\t\t}\n\t},\n\tcreated() {},\n\tmounted() {\n\t\tthis.addDate()\n\t\t// this.init()\n\t},\n\twatch: {\n\t\tname(newV, oldV) {\n\t\t\tthis.name = newV\n\t\t}\n\t},\n\tmethods: {\n\t\t//播放背景音乐\n\t\tchangeImg() {\n\t\t\tlet vo = document.getElementById(\"video\")\n\t\t\tthis.isplay = !this.isplay\n\t\t\tif (this.isplay) {\n\t\t\t\tthis.sound = require('./assets/play.png')\n\t\t\t\tvo.play()\n\t\t\t} else {\n\t\t\t\tthis.sound = require('./assets/unplay.png')\n\t\t\t\tvo.pause()\n\t\t\t}\n\t\t},\n\t\t//获取点击承诺事件\n\t\tchange(e) {\n\t\t\tthis.changePage = e\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.show = true\n\t\t\t\tthis.init()\n\t\t\t}, 5000)\n\t\t},\n\t\t//获取选中后地址\n\t\tprovince(e) {\n\t\t\tthis.provinceName = e\n\t\t\t// console.log(this.provinceName)\n\t\t},\n\t\t//获取当前年月日\n\t\taddDate() {\n\t\t\tconst nowDate = new Date();\n\t\t\tconst date = {\n\t\t\t\tyear: nowDate.getFullYear(),\n\t\t\t\tmonth: nowDate.getMonth() + 1,\n\t\t\t\tdate: nowDate.getDate(),\n\t\t\t}\n\t\t\tconst newmonth = date.month > 10 ? date.month : '0' + date.month\n\t\t\tconst day = date.date > 10 ? date.date : '0' + date.date\n\t\t\tthis.updateTime.year = date.year\n\t\t\tthis.updateTime.month = newmonth\n\t\t\tthis.updateTime.date = day\n\t\t},\n\t\t//获取点击重温事件\n\t\tbackPage(e) {\n\t\t\tif (e.back) {\n\t\t\t\tthis.total = e.sum\n\t\t\t\tthis.changePage = false\n\t\t\t\tthis.getPost = e.showpost\n\t\t\t\tthis.canvasImg = ''\n\t\t\t}\n\t\t},\n\t\t// 初始化画板\n\t\tinit() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tlet canvas = this.$refs.canvas;\n\t\t\t\tthis.ctx = canvas.getContext(\"2d\");\n\t\t\t\tthis.ctx.strokeStyle = \"#000\";\n\t\t\t\tthis.ctx.lineWidth = 5;\n\t\t\t\tthis.ctx.font = \"20px Axure Handwriting, 'Courier New', monospace,华文新魏\";\n\t\t\t\tthis.stage_info = canvas.getBoundingClientRect();\n\t\t\t})\n\n\t\t},\n\t\t// pc\n\t\tmouseDown(ev) {\n\t\t\tlet e = ev || event;\n\t\t\te.preventDefault();\n\t\t\tthis.isDown = true;\n\t\t\tlet obj = {\n\t\t\t\tx: e.offsetX,\n\t\t\t\ty: e.offsetY\n\t\t\t}\n\t\t\tthis.startX = obj.x;\n\t\t\tthis.startY = obj.y;\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(this.startX, this.startY);\n\t\t\tthis.ctx.lineTo(obj.x, obj.y);\n\t\t\tthis.ctx.stroke();\n\t\t\tthis.ctx.closePath();\n\t\t\tthis.points.push(obj);\n\t\t},\n\t\tmouseMove(ev) {\n\t\t\tlet e = ev || event;\n\t\t\te.preventDefault();\n\t\t\tif (this.isDown) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tx: e.offsetX,\n\t\t\t\t\ty: e.offsetY\n\t\t\t\t}\n\t\t\t\tthis.ctx.beginPath();\n\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\n\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\n\t\t\t\tthis.ctx.stroke();\n\t\t\t\tthis.ctx.closePath();\n\t\t\t\tthis.startY = obj.y\n\t\t\t\tthis.startX = obj.x\n\t\t\t\tthis.points.push(obj)\n\t\t\t}\n\t\t},\n\t\tmouseUp(ev) {\n\t\t\tlet e = ev || event;\n\t\t\te.preventDefault();\n\t\t\tlet obj = {\n\t\t\t\tx: ev.offsetX,\n\t\t\t\ty: ev.offsetY\n\t\t\t}\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(this.startX, this.startY);\n\t\t\tthis.ctx.lineTo(obj.x, obj.y);\n\t\t\tthis.ctx.stroke();\n\t\t\tthis.ctx.closePath();\n\t\t\tthis.points.push(obj);\n\t\t\tthis.points.push({\n\t\t\t\tx: -1,\n\t\t\t\ty: -1\n\t\t\t});\n\t\t\tthis.isDown = false;\n\t\t},\n\t\t// mobile\n\t\ttouchStart(ev) {\n\t\t\tlet e = ev || event;\n\t\t\te.preventDefault();\n\t\t\tif (e.touches.length == 1) {\n\t\t\t\t// let obj = {\n\t\t\t\t// \tx: e.targetTouches[0].clientX - 45,\n\t\t\t\t// \ty: e.targetTouches[0].clientY - 224\n\t\t\t\t// }\n\t\t\t\tlet obj = {\n\t\t\t\t\tx: e.targetTouches[0].clientX - this.stage_info.left,\n\t\t\t\t\ty: e.targetTouches[0].clientY - this.stage_info.top\n\t\t\t\t}\n\t\t\t\tthis.startX = obj.x;\n\t\t\t\tthis.startY = obj.y;\n\t\t\t\tthis.ctx.beginPath();\n\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\n\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\n\t\t\t\tthis.ctx.stroke();\n\t\t\t\tthis.ctx.closePath();\n\t\t\t\tthis.points.push(obj);\n\t\t\t}\n\t\t},\n\t\ttouchMove(ev) {\n\t\t\tlet e = ev || event;\n\t\t\te.preventDefault();\n\t\t\tif (e.touches.length == 1) {\n\t\t\t\t// let obj = {\n\t\t\t\t// \tx: e.targetTouches[0].clientX - 45,\n\t\t\t\t// \ty: e.targetTouches[0].clientY - 224\n\t\t\t\t// }\n\t\t\t\tlet obj = {\n\t\t\t\t\tx: e.targetTouches[0].clientX - this.stage_info.left,\n\t\t\t\t\ty: e.targetTouches[0].clientY - this.stage_info.top\n\t\t\t\t}\n\t\t\t\tthis.ctx.beginPath();\n\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\n\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\n\t\t\t\tthis.ctx.stroke();\n\t\t\t\tthis.ctx.closePath();\n\t\t\t\tthis.startX = obj.x;\n\t\t\t\tthis.startY = obj.y;\n\t\t\t\tthis.points.push(obj)\n\t\t\t}\n\t\t},\n\t\ttouchEnd(ev) {\n\t\t\tlet e = ev || event;\n\t\t\te.preventDefault();\n\t\t\tif (e.touches.length == 1) {\n\t\t\t\t// let obj = {\n\t\t\t\t// \tx: e.targetTouches[0].clientX - 45,\n\t\t\t\t// \ty: e.targetTouches[0].clientY - 224\n\t\t\t\t// }\n\t\t\t\tlet obj = {\n\t\t\t\t\tx: e.targetTouches[0].clientX - this.stage_info.left,\n\t\t\t\t\ty: e.targetTouches[0].clientY - this.stage_info.top\n\t\t\t\t}\n\t\t\t\tthis.startX = obj.x;\n\t\t\t\tthis.startY = obj.y;\n\t\t\t\tthis.ctx.beginPath();\n\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\n\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\n\t\t\t\tthis.ctx.stroke();\n\t\t\t\tthis.ctx.closePath();\n\t\t\t\tthis.points.push(obj)\n\t\t\t}\n\t\t},\n\t\t//点击生成海报\n\t\tconfirmNmae() {\n\t\t\tthis.show = false\n\t\t\tthis.canvasImg = this.$refs.canvas.toDataURL(); //签名img\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.getPost = true\n\t\t\t}, 2000)\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.showMUsic()\n\t\t\t}, 4000)\n\t\t},\n\t\tshowMUsic() {\n\t\t\tlet vo = document.getElementById(\"musicType\")\n\t\t\tif (this.getPost) {\n\t\t\t\tvo.play()\n\t\t\t} else {\n\t\t\t\tvo.pause()\n\t\t\t}\n\n\t\t}\n\t},\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n\t<div id=\"app\">\r\n\t\t<!-- 背景音乐 -->\r\n\t\t<div class=\"flex-container column\">\r\n\t\t\t<video id=\"video\" src=\"./assets/audio/music.mp3\" controls=\"controls\" hidden=\"hidden\" :muted=\"false\"\r\n\t\t\t\tloop=\"loop\"> </video>\r\n\t\t</div>\r\n\t\t<img id=\"playImg\" class=\"play\" :src=\"sound\" @click=\"changeImg\" />\r\n\t\t<!-- 海报生成音效 -->\r\n\t\t<div>\r\n\t\t\t<video id=\"musicType\" src=\"./assets/audio/remind.mp3\" controls=\"controls\" hidden=\"hidden\" :muted=\"false\">\r\n\t\t\t</video>\r\n\t\t</div>\r\n\r\n\t\t<HelloWorld :updateTime=\"updateTime\" :total=\"total\" @province=\"province\" @change=\"change\" v-if=\"!changePage\">\r\n\t\t</HelloWorld>\r\n\t\t<postPage :updateTime=\"updateTime\" :total=\"total\" :provinceName=\"provinceName\" :getPost=\"getPost\"\r\n\t\t\t:canvasImg=\"canvasImg\" @backPage=\"backPage\" v-else-if=\"changePage\"></postPage>\r\n\r\n\t\t<div class=\"nameBox\" v-if=\"show\">\r\n\t\t\t<div id=\"bbb\" class=\"innerBox\">\r\n\t\t\t\t<div class=\"sign\">承诺人签名</div>\r\n\t\t\t\t<!-- <div id=\"signature\" class=\"signature\" style=\"clear:both\"> -->\r\n\t\t\t\t<!-- <div id=\"signature\" class=\"canvas\"> -->\r\n\t\t\t\t<canvas id=\"myCanvas\" style=\"clear:both\" class=\"myCan\" ref=\"canvas\" @touchstart=\"touchStart\"\r\n\t\t\t\t\t@touchmove=\"touchMove\" @touchend=\"touchEnd\" @mousedown=\"mouseDown\" @mousemove=\"mouseMove\"\r\n\t\t\t\t\t@mouseup=\"mouseUp\">\r\n\t\t\t\t</canvas>\r\n\t\t\t\t<!-- </div> -->\r\n\t\t\t\t<!-- </div> -->\r\n\t\t\t\t<div class=\"confirm\" @click=\"confirmNmae\">确定</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Vue from 'vue';\r\n\timport HelloWorld from './components/HelloWorld.vue'\r\n\timport postPage from './components/postPage.vue'\r\n\r\n\texport default {\r\n\t\tname: 'app',\r\n\t\tcomponents: {\r\n\t\t\tHelloWorld,\r\n\t\t\tpostPage\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tupdateTime: {\r\n\t\t\t\t\tyear: '',\r\n\t\t\t\t\tmonth: '',\r\n\t\t\t\t\tdate: ''\r\n\t\t\t\t}, //年月日\r\n\t\t\t\tchangePage: false, //切换页面\r\n\t\t\t\tshow: false, //输入名字框\r\n\t\t\t\tprovinceName: '四川',\r\n\t\t\t\ttotal: 125879, //承诺次数\r\n\t\t\t\tgetPost: false, //触发生成海报\r\n\t\t\t\tsound: require('./assets/unplay.png'),\r\n\t\t\t\tisplay: false,\r\n\t\t\t\tMp: \"./assets/audio/music.mp3\",\r\n\r\n\t\t\t\tcanvasWidth: null,\r\n\t\t\t\tcanvasHeight: null,\r\n\t\t\t\tcanvasImg: '', // 签名图片地址\r\n\t\t\t\tctx: null, //画板\r\n\t\t\t\tstage_info: [], // 移动端按下点到屏幕的偏差\r\n\t\t\t\tisDown: false, //是否按下\r\n\t\t\t\tpoints: [], //按下点组合\r\n\t\t\t\tstartX: 0, // 起始点x坐标\r\n\t\t\t\tstartY: 0, // 起始点y坐标\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmounted() {\r\n\t\t\tthis.addDate()\r\n\t\t\t// this.init()\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tname(newV, oldV) {\r\n\t\t\t\tthis.name = newV\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//播放背景音乐\r\n\t\t\tchangeImg() {\r\n\t\t\t\tlet vo = document.getElementById(\"video\")\r\n\t\t\t\tthis.isplay = !this.isplay\r\n\t\t\t\tif (this.isplay) {\r\n\t\t\t\t\tthis.sound = require('./assets/play.png')\r\n\t\t\t\t\tvo.play()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.sound = require('./assets/unplay.png')\r\n\t\t\t\t\tvo.pause()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取点击承诺事件\r\n\t\t\tchange(e) {\r\n\t\t\t\tthis.changePage = e\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.show = true\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t}, 5000)\r\n\t\t\t},\r\n\t\t\t//获取选中后地址\r\n\t\t\tprovince(e) {\r\n\t\t\t\tthis.provinceName = e\r\n\t\t\t\t// console.log(this.provinceName)\r\n\t\t\t},\r\n\t\t\t//获取当前年月日\r\n\t\t\taddDate() {\r\n\t\t\t\tconst nowDate = new Date();\r\n\t\t\t\tconst date = {\r\n\t\t\t\t\tyear: nowDate.getFullYear(),\r\n\t\t\t\t\tmonth: nowDate.getMonth() + 1,\r\n\t\t\t\t\tdate: nowDate.getDate(),\r\n\t\t\t\t}\r\n\t\t\t\tconst newmonth = date.month > 10 ? date.month : '0' + date.month\r\n\t\t\t\tconst day = date.date > 10 ? date.date : '0' + date.date\r\n\t\t\t\tthis.updateTime.year = date.year\r\n\t\t\t\tthis.updateTime.month = newmonth\r\n\t\t\t\tthis.updateTime.date = day\r\n\t\t\t},\r\n\t\t\t//获取点击重温事件\r\n\t\t\tbackPage(e) {\r\n\t\t\t\tif (e.back) {\r\n\t\t\t\t\tthis.total = e.sum\r\n\t\t\t\t\tthis.changePage = false\r\n\t\t\t\t\tthis.getPost = e.showpost\r\n\t\t\t\t\tthis.canvasImg = ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 初始化画板\r\n\t\t\tinit() {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tlet canvas = this.$refs.canvas;\r\n\t\t\t\t\tthis.ctx = canvas.getContext(\"2d\");\r\n\t\t\t\t\tthis.ctx.strokeStyle = \"#000\";\r\n\t\t\t\t\tthis.ctx.lineWidth = 5;\r\n\t\t\t\t\tthis.ctx.font = \"20px Axure Handwriting, 'Courier New', monospace,华文新魏\";\r\n\t\t\t\t\tthis.stage_info = canvas.getBoundingClientRect();\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// pc\r\n\t\t\tmouseDown(ev) {\r\n\t\t\t\tlet e = ev || event;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.isDown = true;\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tx: e.offsetX,\r\n\t\t\t\t\ty: e.offsetY\r\n\t\t\t\t}\r\n\t\t\t\tthis.startX = obj.x;\r\n\t\t\t\tthis.startY = obj.y;\r\n\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\r\n\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\r\n\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\tthis.ctx.closePath();\r\n\t\t\t\tthis.points.push(obj);\r\n\t\t\t},\r\n\t\t\tmouseMove(ev) {\r\n\t\t\t\tlet e = ev || event;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (this.isDown) {\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tx: e.offsetX,\r\n\t\t\t\t\t\ty: e.offsetY\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\r\n\t\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\r\n\t\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\t\tthis.ctx.closePath();\r\n\t\t\t\t\tthis.startY = obj.y\r\n\t\t\t\t\tthis.startX = obj.x\r\n\t\t\t\t\tthis.points.push(obj)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmouseUp(ev) {\r\n\t\t\t\tlet e = ev || event;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tx: ev.offsetX,\r\n\t\t\t\t\ty: ev.offsetY\r\n\t\t\t\t}\r\n\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\r\n\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\r\n\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\tthis.ctx.closePath();\r\n\t\t\t\tthis.points.push(obj);\r\n\t\t\t\tthis.points.push({\r\n\t\t\t\t\tx: -1,\r\n\t\t\t\t\ty: -1\r\n\t\t\t\t});\r\n\t\t\t\tthis.isDown = false;\r\n\t\t\t},\r\n\t\t\t// mobile\r\n\t\t\ttouchStart(ev) {\r\n\t\t\t\tlet e = ev || event;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (e.touches.length == 1) {\r\n\t\t\t\t\t// let obj = {\r\n\t\t\t\t\t// \tx: e.targetTouches[0].clientX - 45,\r\n\t\t\t\t\t// \ty: e.targetTouches[0].clientY - 224\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tx: e.targetTouches[0].clientX - this.stage_info.left,\r\n\t\t\t\t\t\ty: e.targetTouches[0].clientY - this.stage_info.top\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.startX = obj.x;\r\n\t\t\t\t\tthis.startY = obj.y;\r\n\t\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\r\n\t\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\r\n\t\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\t\tthis.ctx.closePath();\r\n\t\t\t\t\tthis.points.push(obj);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttouchMove(ev) {\r\n\t\t\t\tlet e = ev || event;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (e.touches.length == 1) {\r\n\t\t\t\t\t// let obj = {\r\n\t\t\t\t\t// \tx: e.targetTouches[0].clientX - 45,\r\n\t\t\t\t\t// \ty: e.targetTouches[0].clientY - 224\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tx: e.targetTouches[0].clientX - this.stage_info.left,\r\n\t\t\t\t\t\ty: e.targetTouches[0].clientY - this.stage_info.top\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\r\n\t\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\r\n\t\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\t\tthis.ctx.closePath();\r\n\t\t\t\t\tthis.startX = obj.x;\r\n\t\t\t\t\tthis.startY = obj.y;\r\n\t\t\t\t\tthis.points.push(obj)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttouchEnd(ev) {\r\n\t\t\t\tlet e = ev || event;\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (e.touches.length == 1) {\r\n\t\t\t\t\t// let obj = {\r\n\t\t\t\t\t// \tx: e.targetTouches[0].clientX - 45,\r\n\t\t\t\t\t// \ty: e.targetTouches[0].clientY - 224\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tx: e.targetTouches[0].clientX - this.stage_info.left,\r\n\t\t\t\t\t\ty: e.targetTouches[0].clientY - this.stage_info.top\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.startX = obj.x;\r\n\t\t\t\t\tthis.startY = obj.y;\r\n\t\t\t\t\tthis.ctx.beginPath();\r\n\t\t\t\t\tthis.ctx.moveTo(this.startX, this.startY);\r\n\t\t\t\t\tthis.ctx.lineTo(obj.x, obj.y);\r\n\t\t\t\t\tthis.ctx.stroke();\r\n\t\t\t\t\tthis.ctx.closePath();\r\n\t\t\t\t\tthis.points.push(obj)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//点击生成海报\r\n\t\t\tconfirmNmae() {\r\n\t\t\t\tthis.show = false\r\n\t\t\t\tthis.canvasImg = this.$refs.canvas.toDataURL(); //签名img\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getPost = true\r\n\t\t\t\t}, 2000)\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.showMUsic()\r\n\t\t\t\t}, 4000)\r\n\t\t\t},\r\n\t\t\tshowMUsic() {\r\n\t\t\t\tlet vo = document.getElementById(\"musicType\")\r\n\t\t\t\tif (this.getPost) {\r\n\t\t\t\t\tvo.play()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvo.pause()\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t#app {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tmargin-top: -2vw;\r\n\t\t/* overflow: hidden; */\r\n\t\tbackground-image: url(assets/bg.png);\r\n\t\tcolor: #fff;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.flex-container {\r\n\t\tposition: fixed;\r\n\t\ttop: 0vw;\r\n\t\tleft: 0vw;\r\n\t\twidth: 100vw;\r\n\t\theight: 10vh;\r\n\t}\r\n\r\n\t.play {\r\n\t\tposition: fixed;\r\n\t\ttop: 4vw;\r\n\t\tright: 5vw;\r\n\t\twidth: 7vw;\r\n\t\theight: 7vw;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.nameBox {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tbackground-color: rgba(50, 6, 8, 0.5);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.innerBox {\r\n\t\twidth: 85%;\r\n\t\theight: 45%;\r\n\t\tmargin: -10vw auto 0;\r\n\t\tborder-radius: 3vw;\r\n\t\tbackground-color: rgb(191, 22, 41);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-evenly;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.sign {\r\n\t\tcolor: rgb(252, 225, 58);\r\n\t\tfont-size: 5vw;\r\n\t\tfont-weight: bold;\r\n\t\tletter-spacing: 1vw;\r\n\t}\r\n\r\n\t.signature {\r\n\t\twidth: 85%;\r\n\t\theight: 50%;\r\n\t\tbackground: #fff;\r\n\t\t/* position: relative; */\r\n\t}\r\n\r\n\r\n\t.canvas {\r\n\t\t/* position: relative; */\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tfont-size: 0;\r\n\t\tcolor: #000000;\r\n\t}\r\n\r\n\t.myCan {\r\n\t\twidth: 85%;\r\n\t\theight: 50%;\r\n\t\t/* width: 100%;\r\n\t\theight: 100%; */\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.innerBox input {\r\n\t\theight: 30%;\r\n\t\tcolor: #000000;\r\n\t}\r\n\r\n\t.confirm {\r\n\t\twidth: 30vw;\r\n\t\theight: 8vw;\r\n\t\tline-height: 8vw;\r\n\t\tcolor: rgb(203, 48, 32);\r\n\t\ttext-align: center;\r\n\t\tbackground-color: rgb(255, 153, 0);\r\n\t\tborder-radius: 5vw;\r\n\t\tfont-size: 5vw;\r\n\t}\r\n</style>\r\n"]}]}